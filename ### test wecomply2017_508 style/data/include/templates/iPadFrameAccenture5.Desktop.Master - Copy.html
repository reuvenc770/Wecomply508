<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>{$Content:Title}</title>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/swfobject.js?r={$Value:RandomNumber}"></script>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/wc.acc.js?r={$Value:RandomNumber}"></script>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/wc.debug.js?r={$Value:RandomNumber}"></script>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/wc.events.js?r={$Value:RandomNumber}"></script>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/wc.data.js?r={$Value:RandomNumber}"></script>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/wc.lms.js?r={$Value:RandomNumber}"></script>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/wc.interface.acc5.js?r={$Value:RandomNumber}"></script>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/wc.interface.navigation.acc.js?r={$Value:RandomNumber}"></script>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/wc.interface.handlers.acc.js?r={$Value:RandomNumber}"></script>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/wc.mediaPlayer.acc5.js?r={$Value:RandomNumber}"></script>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/tween.js?r={$Value:RandomNumber}"></script>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/jquery-1.7.2.min.js"></script>	
		<!--<script type="text/javascript"> window.jQuery || document.write('<script type="text/javascript" src="{$Value:StaticHtmlPath}js/jquery-1.7.2.min.js"><' + '/script>');</script>-->
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/jquery-ui.js"></script>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/jquery.ui.touch-punch.min.js"></script>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/flowplayer-3.2.9.min.js"></script>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/iscroll.acc5.js"></script>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/html5.animation.js?r={$Value:RandomNumber}"></script>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/AddObject.js?r={$Value:RandomNumber}"></script>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/wc.interface.flashcourse.js?r={$Value:RandomNumber}"></script>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/tagcanvas.js"></script>
		<script type="text/javascript" src="{$Value:StaticHtmlPath}js/json2.js?r={$Value:RandomNumber}"></script>
		<!--TODO: remove the base href and if needed deal dynamically with this-->
		<!--iPadFrameAccenture2.Desktop.Master-->
		{$Content:Style}
		<style type="text/css">
			.clear {clear:both;}
		</style>
		{$Content:Header}
		<script type="text/javascript">
			wc.interface.options.pageChange.replacementMethod = wc.interface.animationOptions.slideLeftAndFade; //slideLeft, none, slideLeftAndFade
			wc.interface.options.displayLayer.linkBulletin.textDisplay = wc.interface.animationOptions.none;
			wc.interface.options.games.randomizeChoices = false;
			wc.interface.options.games.gameIntroDisplayAnimation = wc.interface.animationOptions.none;
			wc.interface.options.games.gameChoiceDisplayAnimation = wc.interface.animationOptions.none;
			wc.interface.options.mediaPlayer.showVideoControls = true;
			wc.interface.options.mediaPlayer.videoSizePercentage = 100;
			wc.mediaPlayer.flashvideodatafilepath = '{$Value:MediaPath}';
			if (wc.mediaPlayer.flashvideodatafilepath == 'images/') {
				wc.mediaPlayer.flashvideodatafilepath = '../../images/';
				wc.interface.gameFilePath = '';
			}

			//wc.mediaPlayer.audio.flashPlayerSrc = '{$Value:StaticHtmlPath}player_mp3_js.swf';
			wc.mediaPlayer.audio.flashPlayerSrc = '{$Value:StaticHtmlPath}flowplayer-3.2.10.swf';
			wc.mediaPlayer.video.flashPlayerSrc = '{$Value:StaticHtmlPath}flvplayer.swf';
			wc.mediaPlayer.dataFilePath = '{$Value:DataFiles}';
			{$Content:Javascript}

			this.parent.wc = wc;

// mode selection
			function switchLanguage() {
				language = document.getElementById('myform').la.value;
				var radios = document.getElementsByName('mode');

				for (var i = 0, length = radios.length; i < length; i++) {
				    if (radios[i].checked) {
					mode = radios[i].value;
				        break;
				    }
				}
			//alert("new redirect to page " + "p.desktop." + language + mode + ".htm?page=" + wc.lms.highestBookmark);

				window.location.href = "p.desktop." + language + mode + ".htm?page=" + wc.lms.highestBookmark;
			}

			function onLanguageSelection(sel) {
			// if selected mode english, enable both mode options, otherwise select text mode and disable standard
				var languagevalue = sel.options[sel.selectedIndex].value;
                                 var radiomodes = document.getElementsByName('mode');
				if (languagevalue == "en") {
					for (var i = 0; i< radiomodes.length;  i++){
					    radiomodes[i].disabled = false;
   
					}
				} else {
					for (var i = 0; i< radiomodes.length;  i++){
					    radiomodes[i].disabled = true;
					    if (radiomodes[i].value == "text") {
						radiomodes[i].checked = true;
					    } else {
						radiomodes[i].checked = false;
					    }
					}
				}
			}




var modedata = "<form id=\"myform\"><br/><table><tr style=\"height: 50px\"><td><H3>Language:    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;         &nbsp;</h3></td><td><select onchange=\"javascript:onLanguageSelection(this);\" name=\"la\" form=\"myform\" type=\"text\" style=\"font-size:14pt\"><option value=\"en\" style=\"font-size:14pt\"selected><label style=\"font-size:14pt\">English</label></option><option value=\"ch\" style=\"font-size:14pt\"><label style=\"font-size:14pt\">Chinese</label></option><option value=\"es\" style=\"font-size:14pt\"><label style=\"font-size:14pt\">Spanish</label></option></select><br/></td></tr><tr style=\"height: 50px\"><td><H3 style=\"margin-top:0px\">Mode:</H3></td><td><input type=\"radio\" name=\"mode\" value=\"text\"/><label style=\"font-size:14pt\">&nbsp;&nbsp;Low-bandwidth (no audio/video)</label><br><input type=\"radio\" name=\"mode\" value=\"media\" checked/><label style=\"font-size:14pt\">&nbsp;&nbsp;Standard (includes audio/video)</label></td></tr></table><br/><br/><DIV class=buttonsContainer style=\"margin-left: 160px\"><A style=\"TEXT-DECORATION: none\" href=\"javascript:switchLanguage();\"><DIV id=Button_Close class=continueButton>Continue</DIV></A></DIV></form> ";



			wc.interface.handlers.events.onBefore_DisplayLayer = function (data) {
			};
			wc.interface.handlers.events.onAfter_DisplayLayer = function (data) {
				if (wc.interface.currentElement.elementType == wc.interface.elementTypes.game)
					return;

				var whiteboard = document.getElementById('whiteboard');
				var Quiz_Wrapper_Element = document.getElementById('Quiz_Wrapper_Element');
				var effectContainerElement = (isDefined(Quiz_Wrapper_Element) ? Quiz_Wrapper_Element : whiteboard);
				var whiteboardContainer = document.getElementById('whiteboardContainer');
				if (isDefined(effectContainerElement)) {
					var whiteboardDimensions = wc.GetObjectBoundaries(effectContainerElement);
					var whiteboardContainerDimensions = wc.GetObjectBoundaries(whiteboardContainer);
					//
					//alert(0 - whiteboardDimensions.height);
					//alert(whiteboardContainerDimensions.top);				
					var whiteboardTween = new Tween(effectContainerElement.style, 'top', Tween.regularEaseOut, 0 - 620, 0, 1.3, 'px');
					whiteboardTween.start();
				}
			};
			wc.interface.handlers.events.onAfter_CloseDisplayLayer = function (data) {
			};
			wc.interface.handlers.events.onBefore_CloseDisplayLayer = function (data) {
				var whiteboard = document.getElementById('whiteboard');
				var Quiz_Wrapper_Element = document.getElementById('Quiz_Wrapper_Element');
				var effectContainerElement = (isDefined(Quiz_Wrapper_Element) ? Quiz_Wrapper_Element : whiteboard);
				var whiteboardContainer = document.getElementById('whiteboardContainer');

				if (isDefined(effectContainerElement)) {
					//var whiteboardDimensions = wc.GetObjectBoundaries(whiteboard);
					//var whiteboardContainerDimensions = wc.GetObjectBoundaries(whiteboardContainer);
					//

					var whiteboardTween = new Tween(effectContainerElement.style, 'top', Tween.regularEaseIn, 0, -620, 2.3, 'px');
					whiteboardTween.onMotionFinished = function () {
						document.getElementById('LayerElementContainer').style.display = 'none';
						document.getElementById('CurrentElementContainer').style.display = '';
						layerElementopacityTween = new OpacityTween(document.getElementById('CurrentElementContainer'), Tween.regularEaseOut, 0, 100, 0.2);
						layerElementopacityTween.onMotionFinished = function () {
							wc.mediaPlayer.logs.push("Calling audio.play from onBefore_CloseDisplayLayer (onMotionFinished)");
							wc.mediaPlayer.audio.play(wc.interface.currentElement.chapterIndex);
						};

						layerElementopacityTween.start();

						wc.interface.currentElement.elementType = wc.interface.elementTypes.chapter;
					};
					whiteboardTween.start();
				}
				return false; //don't have the fire event continue code dependent on code here
			};

			wc.interface.handlers.events.onBefore_DisplaySecondLayer = function (data) {

			};

			wc.interface.handlers.events.onAfter_DisplaySecondLayer = function (data) {

			};

			wc.interface.handlers.events.onBefore_CloseSecondLayer = function (data) {

			};

			wc.interface.handlers.events.onAfter_CloseSecondLayer = function (data) {

			};
		</script>
	</head>
	<body>
		<div class="viewPort" id="viewPort">
			<h2 class="courseTitle">{$Value:CourseName}</h2>
			<div id="CurrentElementContainer" style="position:relative;left:0px;width:100%;">
				{$Content:Intro}
			</div>
			<div id="LayerElementContainer" class="dontReposition" style="position:relative;left:0px;width:100%;display:none;">
			</div>		
			<div id="SecondLayerElementContainer" class="dontReposition" style="position:relative;left:0px;width:100%;display:none;">
			</div>

			<!-- Navigation -->
			<div class="mainControls">
				<a id="Button_Index" href="javascript:void(0);" title="{$Resource:Index}" onclick="wc.interface.elements.tableOfContents.display();" class="navigationButton disabled"></a>
				<a id="Button_ResizeFont" href="javascript:void(0);" title="{$Resource:Font}" onclick="wc.interface.elements.resizeFont.resize();" class="navigationButton disabled"></a>	
				<a id="Button_Policy" href="javascript:void(0);" title="{$Resource:Policy}" onclick="wc.interface.elements.policy.display();" class="navigationButton disabled borderRight"></a>		
				<a id="Button_Previous" href="javascript:void(0);" title="{$Resource:Previous}" onclick="wc.interface.actionHandler.previousButton();" class="navigationButton disabled"></a>
				<a id="Button_PlayAudio" href="javascript:void(0);" title="{$Resource:Play}" onclick="wc.interface.actionHandler.playAudio(true);" class="navigationButton disabled oneMustBeVisible" title="{$Resource:play}">
				</a>
				<a id="Button_PauseAudio" href="javascript:void(0);" title="{$Resource:Pause}" onclick="wc.interface.actionHandler.pauseAudio(true);" class="navigationButton disabled hiddenElement oneMustBeVisible" title="{$Resource:pause}"></a>
				<a id="Button_Next" href="javascript:void(0);" title="{$Resource:Next}" onclick="wc.interface.actionHandler.nextButton();" class="navigationButton disabled"></a>
				<a id="Button_modetool" href="javascript:void(0);" title="{$Resource:Language/Media options}" onclick="wc.interface.elements.mode.display();" class="navigationButton disabled borderRight"></a>			
				<a id="Button_AudioSpeech" href="javascript:void(0);" title="{$Resource:Audio}" onclick="wc.interface.elements.audioSpeechButton.toggleAudioSpeech();" class="navigationButton disabled"></a>
				<a id="Button_EnableBullets" href="javascript:void(0);" title="{$Resource:Bullets}" onclick="wc.interface.actionHandler.enableBullets();" class="navigationButton disabled"></a>
				<a id="Button_DisableBullets" href="javascript:void(0);" title="{$Resource:Text}" onclick="wc.interface.actionHandler.disableBullets();" class="navigationButton disabled"></a>			
				<a id="Button_Help" href="javascript:void(0);" title="{$Resource:Help}" onclick="wc.interface.elements.help.display();" class="navigationButton disabled borderRight"></a>
			</div>							
		</div>
		<div class="flashViewPort"  id="flashViewPort">
		</div>
	</body>

</html>
